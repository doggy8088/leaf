<nz-content xmlns="http://www.w3.org/1999/html">
  <div style="line-height: 30px;margin: 10px;border-left: 2px #ccc solid;border-top: 2px #ccc solid">
    <div style="margin: 20px;">
      <div style="margin: 5px;">
      <span style="font-size: 20px;font-weight: 400;">
        <h2>
          {{tittle}}
        </h2>
      </span>
      </div>
      <div>
        <span>上传是将信息（网页、文字、图片、视频等）通过网页或者上传工具发布到远程服务器上的过程。</span>
      </div>
      <div style="margin: 20px 0">
        <form nz-form [nzType]="'horizontal'" [formGroup]="validateForm">
          <div class="tittle">
            <h3><span></span>上传基础设置</h3>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>上传按钮前显示的文字</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-input [nzSize]="'default'" nzType="text" formControlName="tittle" name="tittle"
                        nzPlaceHolder="上传按钮前的标题">
              </nz-input>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item-required>上传文件列表变量名称</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-input [nzSize]="'default'" nzType="text" formControlName="uploadFileLists" name="uploadFileLists"
                          nzPlaceHolder="输入上传文件队列名称">
                </nz-input>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>上传按钮的显示内容</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-input nzType="text" formControlName="uploadTittle" name="uploadTittle"
                        nzPlaceHolder="上传按钮上所显示的文字"></nz-input>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item-required>上传按钮大小</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-select formControlName="uploadSize" [(ngModel)]="uploadSize" nzPlaceHolder="选择大小">
                  <nz-option nzValue="large" nzLabel="large 40px"></nz-option>
                  <nz-option nzValue="default" nzLabel="default 32px"></nz-option>
                  <nz-option nzValue="small" nzLabel="small 24px"></nz-option>
                </nz-select>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>文字nzSpan</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-input formControlName="uploadLabelSpan" nzPlaceHolder="文字所用的宽度（1-12）"></nz-input>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item-required>上传按钮nzSpan</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-input formControlName="uploadSpan" nzPlaceHolder="上传按钮所用的宽度（1-12）"></nz-input>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>上传后端的URL标示</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-input nzType="text" formControlName="uploadUrlName" name="uploadUrlName"
                        nzPlaceHolder="URl变量名称"></nz-input>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item-required>上传后端的URL</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-input nzType="text" formControlName="uploadUrl" name="uploadUrl"
                          nzPlaceHolder="后端URL"></nz-input>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>是否支持多文件上传</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-select formControlName="uploadType" [(ngModel)]="uploadType" nzPlaceHolder="选择是否支持多文件上传">
                <nz-option nzValue="0" nzLabel="支持"></nz-option>
                <nz-option nzValue="1" nzLabel="不支持"></nz-option>
              </nz-select>
            </div>
            <div nz-form-item *ngIf="isMultipleShow">
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item-required>单次上传文件的数量</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-input-number formControlName="uploadLimit" [nzMin]="0" [nzMax]="100"
                                 [nzStep]="1"></nz-input-number>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>是否显示上传图标</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-select formControlName="uploadIconShow" nzPlaceHolder="上传按钮上显示上传图标">
                <nz-option nzValue="0" nzLabel="是"></nz-option>
                <nz-option nzValue="1" nzLabel="否"></nz-option>
              </nz-select>
            </div>
          </div>
          <div class="tittle">
            <h3><span></span>上传进阶设置</h3>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>是否独占一行</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-select formControlName="uploadNzRow" nzPlaceHolder="上传按钮是否独占一行">
                <nz-option nzValue="0" nzLabel="是"></nz-option>
                <nz-option nzValue="1" nzLabel="否"></nz-option>
              </nz-select>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item-required>是否为必填项</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-select formControlName="uploadRequire" nzPlaceHolder="输入框在Form表单中是否为必填项">
                  <nz-option nzValue="0" nzLabel="是"></nz-option>
                  <nz-option nzValue="1" nzLabel="否"></nz-option>
                </nz-select>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item>文件上传前进行操作的方法名称</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-input [nzSize]="'default'" nzType="text" formControlName="uploadBeforeFunction"
                        name="uploadBeforeFunction" nzPlaceHolder="上传前进行操作的方法名">
              </nz-input>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item>接受上传文件的类型</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-input [nzSize]="'default'" nzType="text" formControlName="uploadFileType" name="uploadFileType"
                          nzPlaceHolder="输入上传文件的扩展名">
                </nz-input>
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="3">
              <label nz-form-item-required>上传文件状态变更时回调的函数的名称</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
              <nz-input [nzSize]="'default'" nzType="text" formControlName="uploadHandStatusChange"
                        name="uploadHandStatusChange" nzPlaceHolder="文件状态变更时回调的函数的名称">
              </nz-input>
            </div>
            <div nz-form-item>
              <div nz-form-label nz-col [nzSpan]="3">
                <label nz-form-item>点击移除文件时回调的方法名称</label>
              </div>
              <div nz-form-control nz-col [nzSpan]="8" nzHasFeedback>
                <nz-input [nzSize]="'default'" nzType="text" formControlName="uploadRemoveFile" name="uploadRemoveFile"
                          nzPlaceHolder="输入移除文件时回调的方法名称">
                </nz-input>
              </div>
            </div>
          </div>


          <!--testArea-->


          <!--testArea-->

          <div class="tittle">
            <h3><span></span>代码生成</h3>
          </div>
          <div>
            <h4>HTML文件代码</h4>
          </div>
          <div style="border: #48c2a5 1px solid">
            <div style="margin-left: 15px;">
              <div>&lt;div nz-form-item <span>{{uploadNzRowValue}}</span>&gt;</div>
              <div>&lt;div nz-form-label nz-col [nzSpan]="<span>{{validateForm.get('uploadLabelSpan').value}}</span>"&gt;
              </div>
              <div>&lt;label nz-form-item<span>{{uploadRequireValue}}</span>&gt;{{validateForm.get('tittle').value}}&lt;/label&gt;
              </div>
              <div>&lt;/div&gt;</div>
              <div>&lt;div nz-form-control nz-col [nzSpan]="<span>{{validateForm.get('uploadSpan').value}}</span>"&gt;
              </div>
              <div>&lt;nz-upload</div>
              <div>[(nzFileList)]="<span>{{validateForm.get('uploadFileLists').value}}</span>"</div>
              <div *ngIf="validateForm.get('uploadBeforeFunction').value">[nzBeforeUpload]="<span>{{validateForm.get('uploadBeforeFunction').value}}</span>"
              </div>
              <div *ngIf="validateForm.get('uploadRemoveFile').value">[nzRemove]="<span>{{validateForm.get('uploadRemoveFile').value}}</span>"
              </div>
              <div *ngIf="validateForm.get('uploadFileType').value">[nzAccept]="'<span>{{validateForm.get('uploadFileType').value}}</span>'"
              </div>
              <div>[nzAction]="<span>{{validateForm.get('uploadUrlName').value}}</span>"</div>
              <div *ngIf="isMultipleShow">nzLimit='<span>{{validateForm.get('uploadLimit').value}}</span>'</div>
              <div>[nzMultiple]="<span>{{uploadMultiple}}</span>"</div>
              <div>(nzChange)="<span>{{validateForm.get('uploadHandStatusChange').value}}</span>($event)"&gt;</div>
              <div>&lt;button nz-button [nzSize]="<span>{{validateForm.get('uploadSize').value}}</span>"&gt;</div>
              <div><span *ngIf="isIconShow">{{uploadIconValue}}</span><span><span>{{validateForm.get('uploadTittle').value}}</span></span>
              </div>
              <div>&lt;/button&gt;</div>
              <div>&lt;/nz-upload&gt;</div>
              <div>&lt;/div&gt;</div>

              <div>&lt;/div&gt;</div>
            </div>
          </div>
          <div>
            <h4>TS文件代码</h4>
          </div>
          <div style="border: #48c2a5 1px solid">
            <div style="margin-left: 15px;">
              <div>public <span>{{validateForm.get('uploadFileLists').value}}</span>: FileUpload;</div>
              <div>public <span>{{validateForm.get('uploadUrlName').value}}</span>=
                "{{validateForm.get('uploadUrl').value}}";
              </div>
              <br/>
              <div *ngIf="validateForm.get('uploadBeforeFunction').value">
                <div><span>{{validateForm.get('uploadBeforeFunction').value}}</span> = (file: File, fileList) => <span>{{ '{'}}</span>
                </div>
                <div>{{'}'}}</div>
              </div>
              <br/>
              <div>
                <div>{{validateForm.get('uploadHandStatusChange').value}}(item{{','}} {{'{'}}file, fileList{{'}'}})
                  {{'{'}}
                </div>
                <div>const status = file.status;</div>
                <div>// status为文件上传的状态在</div>
                <div>if (status !== 'uploading') {{'{'}}</div>
                <div>// 文件在非上传状态做的动作</div>
                <div>{{'}'}}</div>
                <div>if (status === 'done') {{'{'}}</div>
                <div>// 文件上传完成以后做的动作</div>
                <div>if (file.response.result) {{'{'}}</div>
                <div>{{'}'}}</div>
                <div>this.getBase64(file.originFileObj, (text: any) => {{'{'}}</div>
                <div>// text：文件解析</div>
                <div>{{'}'}});</div>
                <div>{{'}'}} else if (status === 'error') {{'{'}}</div>
                <div>// 上传发生错误时所进行的动作</div>
                <div>{{'}'}}</div>
                <div>{{'}'}}</div>
              </div>
              <br/>
              <div *ngIf="validateForm.get('uploadRemoveFile').value">
                <div>{{validateForm.get('uploadRemoveFile').value}} = (file: File, fileList) => {{'{'}}</div>
                <div> // 显示减少返回true，不显示返回false</div>
                <div>return true;</div>
                <div>{{'}'}}</div>
              </div>

            </div>
          </div>

          <p>{{validateForm.value | json}}</p>
        </form>
      </div>
    </div>
  </div>
</nz-content>
